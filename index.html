<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algebra Renova - Revolução Matemática</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;600;700&family=Cinzel:wght@400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* VARIÁVEIS DE CORES E ESTILOS */
        :root {
            --primary-dark: #0a0a0f;
            --secondary-dark: #121218;
            --tertiary-dark: #1a1a24;
            --accent-purple: #6a0dad;
            --accent-blue: #0d6efd;
            --accent-teal: #20c997;
            --accent-red: #dc3545;
            --accent-gold: #ffd700;
            --text-primary: #f8f9fa;
            --text-secondary: #adb5bd;
            --border-color: #2d2d3a;
            --shadow-color: rgba(106, 13, 173, 0.2);
            --font-mono: 'Source Code Pro', monospace;
            --font-decorative: 'Cinzel', serif;
            --font-tech: 'Orbitron', sans-serif;
        }

        /* RESET E ESTILOS GERAIS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-mono);
            background-color: var(--primary-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(106, 13, 173, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(13, 110, 253, 0.05) 0%, transparent 20%);
        }

        a {
            color: var(--accent-teal);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--accent-blue);
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR */
        .sidebar {
            width: 250px;
            background-color: var(--secondary-dark);
            border-right: 1px solid var(--border-color);
            padding: 20px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.3);
        }

        .logo-container {
            text-align: center;
            padding: 20px 10px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .logo {
            font-family: var(--font-decorative);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-purple);
            text-transform: uppercase;
            letter-spacing: 2px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .logo-symbol {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--accent-gold);
        }

        .logo-subtitle {
            font-size: 0.7rem;
            color: var(--text-secondary);
            letter-spacing: 1px;
            margin-top: 5px;
        }

        .user-info {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }

        .user-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            margin: 0 auto 10px;
            border: 2px solid var(--accent-teal);
        }

        .user-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .user-level {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            background-color: var(--accent-purple);
            color: white;
            margin-top: 5px;
        }

        .level-observador {
            background-color: #6c757d;
        }

        .level-iniciado {
            background-color: #198754;
        }

        .level-nucleo {
            background-color: var(--accent-red);
        }

        .nav-menu {
            list-style: none;
            padding: 0 15px;
        }

        .nav-item {
            margin-bottom: 5px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
            color: var(--text-secondary);
        }

        .nav-link:hover, .nav-link.active {
            background-color: var(--tertiary-dark);
            color: var(--text-primary);
        }

        .nav-link i {
            margin-right: 10px;
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .nav-section {
            color: var(--text-secondary);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 20px 0 10px;
            padding-left: 15px;
        }

        .notification-badge {
            background-color: var(--accent-red);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            margin-left: auto;
        }

        /* CONTEÚDO PRINCIPAL */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 20px;
            overflow-y: auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 30px;
        }

        .page-title {
            font-family: var(--font-decorative);
            font-size: 2rem;
            color: var(--accent-teal);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            background-color: var(--tertiary-dark);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 8px 15px 8px 40px;
            color: var(--text-primary);
            width: 250px;
            font-family: var(--font-mono);
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .notification-btn, .logout-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.2rem;
            cursor: pointer;
            transition: color 0.3s;
            position: relative;
        }

        .notification-btn:hover, .logout-btn:hover {
            color: var(--text-primary);
        }

        .notification-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--accent-red);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* DASHBOARD */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .card {
            background-color: var(--secondary-dark);
            border-radius: 10px;
            border: 1px solid var(--border-color);
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px var(--shadow-color);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--accent-teal);
        }

        .card-icon {
            font-size: 1.5rem;
            color: var(--accent-purple);
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--tertiary-dark);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border-left: 4px solid var(--accent-purple);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-teal);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .recent-activities {
            list-style: none;
        }

        .activity-item {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--tertiary-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--accent-blue);
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: 3px;
        }

        .activity-time {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-family: var(--font-mono);
            font-size: 0.95rem;
        }

        .btn-primary {
            background-color: var(--accent-purple);
            color: white;
        }

        .btn-primary:hover {
            background-color: #5a0a9c;
        }

        .btn-secondary {
            background-color: var(--tertiary-dark);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--border-color);
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.85rem;
        }

        /* SEÇÕES DE CONTEÚDO */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.8rem;
            font-family: var(--font-decorative);
            color: var(--accent-teal);
        }

        .theories-list, .groups-list, .forum-topics {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }

        .theory-card, .group-card, .topic-card {
            background-color: var(--secondary-dark);
            border-radius: 10px;
            border: 1px solid var(--border-color);
            padding: 20px;
            transition: all 0.3s;
        }

        .theory-card:hover, .group-card:hover, .topic-card:hover {
            border-color: var(--accent-purple);
            box-shadow: 0 5px 15px var(--shadow-color);
        }

        .theory-header, .group-header, .topic-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .theory-title, .group-title, .topic-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .theory-author, .group-members, .topic-author {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .theory-status, .group-type, .topic-status {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-developing {
            background-color: rgba(32, 201, 151, 0.2);
            color: var(--accent-teal);
        }

        .status-published {
            background-color: rgba(13, 110, 253, 0.2);
            color: var(--accent-blue);
        }

        .status-archived {
            background-color: rgba(108, 117, 125, 0.2);
            color: var(--text-secondary);
        }

        .type-public {
            background-color: rgba(32, 201, 151, 0.2);
            color: var(--accent-teal);
        }

        .type-private {
            background-color: rgba(220, 53, 69, 0.2);
            color: var(--accent-red);
        }

        .type-restricted {
            background-color: rgba(255, 215, 0, 0.2);
            color: var(--accent-gold);
        }

        .theory-description, .group-description, .topic-description {
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .theory-meta, .group-meta, .topic-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }

        /* FORMULÁRIOS */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--tertiary-dark);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent-purple);
        }

        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* LOGIN PAGE */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: var(--primary-dark);
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(106, 13, 173, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 80% 70%, rgba(13, 110, 253, 0.1) 0%, transparent 40%);
        }

        .login-box {
            width: 100%;
            max-width: 450px;
            background-color: var(--secondary-dark);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }

        .login-logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-logo .logo {
            font-size: 2.2rem;
        }

        .login-title {
            text-align: center;
            font-family: var(--font-decorative);
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: var(--accent-teal);
        }

        .login-footer {
            text-align: center;
            margin-top: 30px;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* CHAT */
        .chat-container {
            display: flex;
            height: 70vh;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            overflow: hidden;
        }

        .chat-sidebar {
            width: 250px;
            background-color: var(--tertiary-dark);
            border-right: 1px solid var(--border-color);
            padding: 20px;
            overflow-y: auto;
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 15px 20px;
            background-color: var(--secondary-dark);
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .message {
            margin-bottom: 15px;
            max-width: 70%;
            padding: 12px 15px;
            border-radius: 10px;
            position: relative;
        }

        .message-sent {
            align-self: flex-end;
            background-color: rgba(106, 13, 173, 0.3);
            border: 1px solid rgba(106, 13, 173, 0.5);
        }

        .message-received {
            align-self: flex-start;
            background-color: var(--tertiary-dark);
            border: 1px solid var(--border-color);
        }

        .message-sender {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--accent-teal);
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-align: right;
            margin-top: 5px;
        }

        .chat-input {
            padding: 15px;
            background-color: var(--secondary-dark);
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            background-color: var(--tertiary-dark);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            color: var(--text-primary);
            font-family: var(--font-mono);
        }

        /* TABELAS */
        .table-container {
            overflow-x: auto;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--tertiary-dark);
            font-weight: 600;
            color: var(--accent-teal);
        }

        tr:hover {
            background-color: rgba(255, 255, 255, 0.03);
        }

        /* RITO DE INICIAÇÃO */
        .initiation-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .initiation-step {
            margin-bottom: 40px;
            padding: 30px;
            background-color: var(--secondary-dark);
            border-radius: 10px;
            border: 1px solid var(--border-color);
            position: relative;
        }

        .step-number {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-purple);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .step-title {
            font-size: 1.4rem;
            color: var(--accent-teal);
            margin-bottom: 15px;
            font-family: var(--font-decorative);
        }

        /* RESPONSIVIDADE */
        @media (max-width: 1100px) {
            .sidebar {
                width: 70px;
                overflow-x: hidden;
            }
            
            .logo-text, .user-name, .user-level, .nav-section, .nav-text {
                display: none;
            }
            
            .logo-symbol {
                font-size: 2rem;
            }
            
            .nav-link {
                justify-content: center;
                padding: 15px;
            }
            
            .nav-link i {
                margin-right: 0;
                font-size: 1.4rem;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .search-box input {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .theories-list, .groups-list, .forum-topics {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .search-box input {
                width: 150px;
            }
        }

        /* ANIMAÇÕES E EFEITOS ESPECIAIS */
        .math-symbol {
            font-family: "Times New Roman", serif;
            font-style: italic;
        }

        .glowing-text {
            text-shadow: 0 0 5px var(--accent-purple), 0 0 10px rgba(106, 13, 173, 0.5);
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(106, 13, 173, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(106, 13, 173, 0); }
            100% { box-shadow: 0 0 0 0 rgba(106, 13, 173, 0); }
        }

        .fractal-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.05;
            z-index: -1;
            background-image: 
                radial-gradient(circle at 20% 30%, var(--accent-purple) 0%, transparent 10%),
                radial-gradient(circle at 80% 70%, var(--accent-blue) 0%, transparent 10%),
                radial-gradient(circle at 40% 80%, var(--accent-teal) 0%, transparent 10%);
        }
    </style>
</head>
<body>
    <!-- TELA DE LOGIN (INICIAL) -->
    <div id="login-page" class="login-container">
        <div class="login-box">
            <div class="login-logo">
                <div class="logo">
                    <div class="logo-symbol">∞</div>
                    <div class="logo-text">ALGEBRA RENOVA</div>
                    <div class="logo-subtitle">Revolution. Algebra et Perseverantia.</div>
                </div>
            </div>
            
            <h2 class="login-title">Acesso ao Portal</h2>
            
            <form id="login-form">
                <div class="form-group">
                    <label class="form-label" for="login-username">Nome Simbólico</label>
                    <input type="text" class="form-control" id="login-username" placeholder="Enter seu nome simbólico" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="login-password">Senha de Iniciação</label>
                    <input type="password" class="form-control" id="login-password" placeholder="Enter a senha de iniciação" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="login-level">Nível de Acesso</label>
                    <select class="form-control" id="login-level" required>
                        <option value="">Selecione seu nível</option>
                        <option value="observador">Observador</option>
                        <option value="iniciado">Iniciado</option>
                        <option value="nucleo">Núcleo</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 14px;">Acessar Portal</button>
            </form>
            
            <div class="login-footer">
                <p>Área restrita aos membros de Algebra Renova</p>
                <p>"Matemática é opcional – assim como a sanidade"</p>
            </div>
        </div>
    </div>

    <!-- CONTEÚDO PRINCIPAL DO SITE (APÓS LOGIN) -->
    <div id="main-site" class="container" style="display: none;">
        <!-- MENU LATERAL -->
        <aside class="sidebar">
            <div class="logo-container">
                <div class="logo">
                    <div class="logo-symbol">∞</div>
                    <div class="logo-text">ALGEBRA RENOVA</div>
                    <div class="logo-subtitle">Revolution. Algebra et Perseverantia.</div>
                </div>
            </div>
            
            <div class="user-info">
                <div class="user-avatar" id="user-avatar">AR</div>
                <div class="user-name" id="user-name">Membro Algebra Renova</div>
                <div class="user-level level-observador" id="user-level">Observador</div>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-section">Navegação Principal</li>
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-chart-network"></i>
                        <span class="nav-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="manifesto">
                        <i class="fas fa-scroll"></i>
                        <span class="nav-text">Manifesto</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="theories">
                        <i class="fas fa-atom"></i>
                        <span class="nav-text">Teorias</span>
                        <span class="notification-badge" id="theory-notif">0</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="research-groups">
                        <i class="fas fa-users-cog"></i>
                        <span class="nav-text">Grupos de Pesquisa</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="forum">
                        <i class="fas fa-comments"></i>
                        <span class="nav-text">Fórum de Dúvidas</span>
                        <span class="notification-badge" id="forum-notif">0</span>
                    </a>
                </li>
                
                <li class="nav-section">Comunicação</li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="chat">
                        <i class="fas fa-comment-dots"></i>
                        <span class="nav-text">Chat Geral</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="files">
                        <i class="fas fa-archive"></i>
                        <span class="nav-text">Arquivos</span>
                    </a>
                </li>
                
                <li class="nav-section">Hierarquia</li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="initiation">
                        <i class="fas fa-door-open"></i>
                        <span class="nav-text">Rito de Iniciação</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="profile">
                        <i class="fas fa-user-cog"></i>
                        <span class="nav-text">Perfil</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="members">
                        <i class="fas fa-chess-queen"></i>
                        <span class="nav-text">Membros</span>
                    </a>
                </li>
            </ul>
            
            <div style="padding: 20px 15px; margin-top: 30px; border-top: 1px solid var(--border-color);">
                <p style="font-size: 0.8rem; color: var(--text-secondary); text-align: center;">
                    "A álgebra que renasce das ruínas do tradicional"
                </p>
            </div>
        </aside>

        <!-- CONTEÚDO PRINCIPAL -->
        <main class="main-content">
            <!-- CABEÇALHO -->
            <header class="header">
                <h1 class="page-title" id="page-title">Dashboard</h1>
                <div class="header-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Buscar teorias, membros..." id="global-search">
                    </div>
                    <button class="notification-btn" id="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-count" id="notification-count">0</span>
                    </button>
                    <button class="logout-btn" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </header>

            <!-- SEÇÕES DE CONTEÚDO -->
            
            <!-- DASHBOARD -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard">
                    <!-- CARD DE ESTATÍSTICAS -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Estatísticas da Organização</h3>
                            <div class="card-icon"><i class="fas fa-chart-bar"></i></div>
                        </div>
                        <div class="stats-container">
                            <div class="stat-card">
                                <div class="stat-value" id="stat-members">1</div>
                                <div class="stat-label">Membros</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="stat-theories">0</div>
                                <div class="stat-label">Teorias Ativas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="stat-groups">6</div>
                                <div class="stat-label">Grupos de Pesquisa</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="stat-documents">0</div>
                                <div class="stat-label">Documentos</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="stat-conjectures">0</div>
                                <div class="stat-label">Conjecturas Ativas</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">∞</div>
                                <div class="stat-label">Possibilidades</div>
                            </div>
                        </div>
                    </div>

                    <!-- CARD DE ATIVIDADES RECENTES -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Atividades Recentes</h3>
                            <div class="card-icon"><i class="fas fa-history"></i></div>
                        </div>
                        <ul class="recent-activities" id="recent-activities">
                            <li class="activity-item">
                                <div class="activity-icon"><i class="fas fa-door-open"></i></div>
                                <div class="activity-content">
                                    <div class="activity-title">Bem-vindo ao Algebra Renova</div>
                                    <div class="activity-time">Sua jornada começa agora</div>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <!-- CARD DE TEORIAS EM DESTAQUE -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Teorias em Destaque</h3>
                            <div class="card-icon"><i class="fas fa-star"></i></div>
                        </div>
                        <div class="theories-list" style="grid-template-columns: 1fr;" id="featured-theories">
                            <!-- Conteúdo carregado dinamicamente -->
                        </div>
                        <button class="btn btn-secondary" style="width: 100%; margin-top: 15px;" data-section="theories">Ver Todas as Teorias</button>
                    </div>

                    <!-- CARD DE CONVITE -->
                    <div class="card pulse">
                        <div class="card-header">
                            <h3 class="card-title">Próximo Rito de Iniciação</h3>
                            <div class="card-icon"><i class="fas fa-door-open"></i></div>
                        </div>
                        <p style="margin-bottom: 20px; color: var(--text-secondary);">O próximo rito de iniciação para novos membros será agendado em breve. Para participar, você deve primeiro atingir o nível mínimo de contribuição no fórum.</p>
                        <button class="btn btn-primary" data-section="initiation">Saiba Mais</button>
                    </div>
                </div>
            </section>

            <!-- MANIFESTO -->
            <section id="manifesto" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Manifesto Algebra Renova</h2>
                </div>
                
                <div class="card" style="margin-bottom: 30px;">
                    <div class="card-header">
                        <h3 class="card-title">Revolution. Algebra et Perseverantia.</h3>
                        <div class="card-icon"><i class="fas fa-scroll"></i></div>
                    </div>
                    <div style="padding: 0 20px 20px;">
                        <blockquote style="border-left: 4px solid var(--accent-purple); padding-left: 20px; margin: 20px 0; font-style: italic; color: var(--text-secondary);">
                            "Algebra Renova é mais do que um grupo de pesquisa. É uma rebelião matemática. Uma revolução intelectual. Uma reconstrução dos próprios fundamentos do pensamento estrutural e algébrico."
                        </blockquote>
                        
                        <h4 style="color: var(--accent-teal); margin: 25px 0 15px;">A Origem do Nome</h4>
                        <p>O nome <strong>Algebra Renova</strong> surge da fusão entre o <strong>clássico e o revolucionário</strong>.</p>
                        
                        <ul style="padding-left: 20px; margin: 15px 0;">
                            <li style="margin-bottom: 10px;"><strong>Algebra</strong>: Refere-se ao campo estrutural fundamental da matemática, mas aqui entendido em seu sentido mais profundo — não apenas como a manipulação de símbolos ou equações, mas como o <em>tecido estrutural da realidade teórica</em>.</li>
                            <li style="margin-bottom: 10px;"><strong>Renova</strong>: Do latim <em>renovare</em>, "renovar", "renascer", "recriar". Uma evocação ao renascimento matemático. Ao ato de destruir estruturas caducas e criar novas formas de pensamento algébrico.</li>
                        </ul>
                        
                        <p><strong>Algebra Renova</strong>, portanto, significa: <em>A álgebra que renasce das ruínas do tradicional, mais poderosa, mais estranha, mais verdadeira.</em></p>
                        
                        <h4 style="color: var(--accent-teal); margin: 25px 0 15px;">Símbolos e seu Significado</h4>
                        
                        <div style="display: flex; flex-wrap: wrap; gap: 20px; margin: 20px 0;">
                            <div style="flex: 1; min-width: 250px; background-color: var(--tertiary-dark); padding: 20px; border-radius: 8px;">
                                <h5 style="color: var(--accent-blue); margin-bottom: 10px;"><i class="fas fa-butterfly"></i> A Borboleta</h5>
                                <p>Simboliza a transformação radical. Representa a transfunctoração: a capacidade de uma estrutura emergir em outro domínio, com regras totalmente novas.</p>
                            </div>
                            <div style="flex: 1; min-width: 250px; background-color: var(--tertiary-dark); padding: 20px; border-radius: 8px;">
                                <h5 style="color: var(--accent-red); margin-bottom: 10px;"><i class="fas fa-eye"></i> A Espada com Olho</h5>
                                <p>A espada representa a precisão cortante, o rigor lógico. O olho que chora representa a visão profunda, a contemplação infinita das estruturas ocultas.</p>
                            </div>
                            <div style="flex: 1; min-width: 250px; background-color: var(--tertiary-dark); padding: 20px; border-radius: 8px;">
                                <h5 style="color: var(--accent-teal); margin-bottom: 10px;"><i class="fas fa-shield-alt"></i> O Escudo com o Lema</h5>
                                <p>Simboliza a defesa da nova matemática contra o dogma. Contém o lema: <strong>Revolution. Algebra et Perseverantia.</strong></p>
                            </div>
                        </div>
                        
                        <h4 style="color: var(--accent-teal); margin: 25px 0 15px;">Missão e Objetivos</h4>
                        <p>Algebra Renova tem como missão a criação deliberada de estruturas matemáticas impossíveis. Seu objetivo não é resolver problemas já conhecidos, mas inventar realidades teóricas novas.</p>
                        
                        <ul style="padding-left: 20px; margin: 15px 0;">
                            <li style="margin-bottom: 8px;"><strong>Desenvolver novas teorias rigorosas.</strong></li>
                            <li style="margin-bottom: 8px;"><strong>Fundar subcampos dentro da álgebra e matemática abstrata.</strong></li>
                            <li style="margin-bottom: 8px;"><strong>Reformular a linguagem matemática como forma de expressão estrutural criativa.</strong></li>
                            <li style="margin-bottom: 8px;"><strong>Criar uma comunidade radical de pensadores.</strong></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- TEORIAS -->
            <section id="theories" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Teorias Matemáticas</h2>
                    <button class="btn btn-primary" id="new-theory-btn"><i class="fas fa-plus"></i> Nova Teoria</button>
                </div>
                
                <div class="theories-list" id="theories-list">
                    <!-- Conteúdo carregado dinamicamente -->
                </div>
                
                <!-- FORMULÁRIO DE NOVA TEORIA (OCULTO INICIALMENTE) -->
                <div id="new-theory-form" class="form-container" style="display: none; margin-top: 40px;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Propor Nova Teoria</h3>
                            <div class="card-icon"><i class="fas fa-atom"></i></div>
                        </div>
                        <div style="padding: 20px;">
                            <form id="theory-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label" for="theory-name">Nome da Teoria</label>
                                        <input type="text" class="form-control" id="theory-name" placeholder="Ex: Álgebra Transdimensional" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="theory-group">Grupo de Pesquisa</label>
                                        <select class="form-control" id="theory-group" required>
                                            <option value="">Selecione um grupo</option>
                                            <option value="transfunctoracao">Transfunctoração</option>
                                            <option value="transformacoes">Transformações Radicais</option>
                                            <option value="estruturas">Estruturas Não-Convencionais</option>
                                            <option value="algebra-superior">Álgebra Superior</option>
                                            <option value="conjecturas">Conjecturas e "Caças"</option>
                                            <option value="analise">Análise Não-Padrão</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="theory-description">Descrição da Teoria</label>
                                    <textarea class="form-control" id="theory-description" placeholder="Descreva a teoria proposta, seus fundamentos e objetivos..." rows="5" required></textarea>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label" for="theory-visibility">Visibilidade</label>
                                        <select class="form-control" id="theory-visibility" required>
                                            <option value="public">Pública (todos os membros)</option>
                                            <option value="private">Privada (apenas grupo de pesquisa)</option>
                                            <option value="restricted">Restrita (apenas Núcleo)</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="theory-status">Status Inicial</label>
                                        <select class="form-control" id="theory-status" required>
                                            <option value="developing">Em desenvolvimento</option>
                                            <option value="proposal">Proposta</option>
                                            <option value="discussion">Em discussão</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="theory-tags">Tags (separadas por vírgula)</label>
                                    <input type="text" class="form-control" id="theory-tags" placeholder="Ex: álgebra, transfunctoração, não-associativa, transdimensional">
                                </div>
                                
                                <div style="display: flex; gap: 15px; margin-top: 30px;">
                                    <button type="submit" class="btn btn-primary">Submeter Teoria</button>
                                    <button type="button" class="btn btn-secondary" id="cancel-theory-btn">Cancelar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>

            <!-- GRUPOS DE PESQUISA -->
            <section id="research-groups" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Grupos de Pesquisa</h2>
                    <button class="btn btn-primary" id="join-group-btn"><i class="fas fa-user-plus"></i> Solicitar Ingresso</button>
                </div>
                
                <div class="groups-list">
                    <!-- Grupo 1 -->
                    <div class="group-card">
                        <div class="group-header">
                            <div>
                                <h4 class="group-title">Transfunctoração</h4>
                                <div class="group-members">Membros: [aguardando]</div>
                            </div>
                            <span class="group-type type-private">Privado</span>
                        </div>
                        <p class="group-description">Estuda a transferência de estruturas entre diferentes domínios matemáticos, criando novas correspondências entre álgebra, topologia e teoria das categorias.</p>
                        <div class="group-meta">
                            <span><i class="fas fa-file-alt"></i> Teorias: 0</span>
                            <span><i class="fas fa-lock"></i> Acesso por aprovação</span>
                        </div>
                    </div>
                    
                    <!-- Grupo 2 -->
                    <div class="group-card">
                        <div class="group-header">
                            <div>
                                <h4 class="group-title">Transformações Radicais</h4>
                                <div class="group-members">Membros: [aguardando]</div>
                            </div>
                            <span class="group-type type-public">Público</span>
                        </div>
                        <p class="group-description">Explora transformações que não preservam estruturas tradicionais, mas criam novas categorias matemáticas através de rupturas conceituais.</p>
                        <div class="group-meta">
                            <span><i class="fas fa-file-alt"></i> Teorias: 0</span>
                            <span><i class="fas fa-unlock"></i> Aberto a todos</span>
                        </div>
                    </div>
                    
                    <!-- Grupo 3 -->
                    <div class="group-card">
                        <div class="group-header">
                            <div>
                                <h4 class="group-title">Estruturas Não-Convencionais</h4>
                                <div class="group-members">Membros: [aguardando]</div>
                            </div>
                            <span class="group-type type-private">Privado</span>
                        </div>
                        <p class="group-description">Desenvolve estruturas algébricas que violam axiomas fundamentais, como associatividade, comutatividade e distributividade, criando novos paradigmas.</p>
                        <div class="group-meta">
                            <span><i class="fas fa-file-alt"></i> Teorias: 0</span>
                            <span><i class="fas fa-lock"></i> Acesso por aprovação</span>
                        </div>
                    </div>
                    
                    <!-- Grupo 4 -->
                    <div class="group-card">
                        <div class="group-header">
                            <div>
                                <h4 class="group-title">Álgebra Superior</h4>
                                <div class="group-members">Membros: [aguardando]</div>
                            </div>
                            <span class="group-type type-public">Público</span>
                        </div>
                        <p class="group-description">Expande os limites da álgebra tradicional através da criação de novas operações, relações e estruturas com dimensionalidade variável.</p>
                        <div class="group-meta">
                            <span><i class="fas fa-file-alt"></i> Teorias: 0</span>
                            <span><i class="fas fa-unlock"></i> Aberto a todos</span>
                        </div>
                    </div>
                    
                    <!-- Grupo 5 -->
                    <div class="group-card">
                        <div class="group-header">
                            <div>
                                <h4 class="group-title">Conjecturas e "Caças"</h4>
                                <div class="group-members">Membros: [aguardando]</div>
                            </div>
                            <span class="group-type type-restricted">Restrito</span>
                        </div>
                        <p class="group-description">Foca na formulação e resolução de conjecturas matemáticas de alta complexidade, com ênfase em estruturas que desafiam a intuição tradicional.</p>
                        <div class="group-meta">
                            <span><i class="fas fa-file-alt"></i> Teorias: 0</span>
                            <span><i class="fas fa-lock"></i> Apenas Núcleo</span>
                        </div>
                    </div>
                    
                    <!-- Grupo 6 -->
                    <div class="group-card">
                        <div class="group-header">
                            <div>
                                <h4 class="group-title">Análise Não-Padrão</h4>
                                <div class="group-members">Membros: [aguardando]</div>
                            </div>
                            <span class="group-type type-public">Público</span>
                        </div>
                        <p class="group-description">Desenvolve frameworks analíticos que transcendem os limites do cálculo tradicional, integrando conceitos de infinitésimos, hiper-reais e continuidade discreta.</p>
                        <div class="group-meta">
                            <span><i class="fas fa-file-alt"></i> Teorias: 0</span>
                            <span><i class="fas fa-unlock"></i> Aberto a todos</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FÓRUM DE DÚVIDAS -->
            <section id="forum" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Fórum de Dúvidas e Debates</h2>
                    <button class="btn btn-primary" id="new-topic-btn"><i class="fas fa-plus"></i> Novo Tópico</button>
                </div>
                
                <div class="forum-topics" id="forum-topics">
                    <!-- Conteúdo carregado dinamicamente -->
                </div>
                
                <!-- FORMULÁRIO DE NOVO TÓPICO (OCULTO INICIALMENTE) -->
                <div id="new-topic-form" class="form-container" style="display: none; margin-top: 40px;">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Criar Novo Tópico</h3>
                            <div class="card-icon"><i class="fas fa-comment"></i></div>
                        </div>
                        <div style="padding: 20px;">
                            <form id="topic-form">
                                <div class="form-group">
                                    <label class="form-label" for="topic-title">Título do Tópico</label>
                                    <input type="text" class="form-control" id="topic-title" placeholder="Ex: Dúvida sobre transfunctoração entre dimensões" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="topic-description">Descrição/Questão</label>
                                    <textarea class="form-control" id="topic-description" placeholder="Descreva sua dúvida, questão ou ponto de debate..." rows="5" required></textarea>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label" for="topic-category">Categoria</label>
                                        <select class="form-control" id="topic-category" required>
                                            <option value="duvida">Dúvida Conceitual</option>
                                            <option value="debate">Debate Teórico</option>
                                            <option value="desafio">Desafio Matemático</option>
                                            <option value="discussao">Discussão Geral</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="topic-tags">Tags (separadas por vírgula)</label>
                                        <input type="text" class="form-control" id="topic-tags" placeholder="Ex: álgebra, transfunctoração, anti-identidades">
                                    </div>
                                </div>
                                
                                <div style="display: flex; gap: 15px; margin-top: 30px;">
                                    <button type="submit" class="btn btn-primary">Criar Tópico</button>
                                    <button type="button" class="btn btn-secondary" id="cancel-topic-btn">Cancelar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CHAT GERAL -->
            <section id="chat" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Chat Geral</h2>
                    <div class="header-actions">
                        <span id="online-count">Online: 1</span>
                    </div>
                </div>
                
                <div class="chat-container">
                    <div class="chat-sidebar">
                        <h4 style="margin-bottom: 15px; color: var(--accent-teal);">Membros Online</h4>
                        <ul id="online-users" style="list-style: none;">
                            <li style="padding: 8px 0; display: flex; align-items: center;">
                                <div style="width: 10px; height: 10px; border-radius: 50%; background-color: var(--accent-teal); margin-right: 10px;"></div>
                                <span id="current-user-chat">Você</span>
                            </li>
                        </ul>
                        
                        <h4 style="margin: 20px 0 15px; color: var(--accent-teal);">Canais</h4>
                        <ul style="list-style: none;">
                            <li style="padding: 8px 0;"><i class="fas fa-hashtag" style="margin-right: 10px;"></i>Geral</li>
                            <li style="padding: 8px 0;"><i class="fas fa-hashtag" style="margin-right: 10px;"></i>Teorias</li>
                            <li style="padding: 8px 0;"><i class="fas fa-hashtag" style="margin-right: 10px;"></i>Conjecturas</li>
                            <li style="padding: 8px 0;"><i class="fas fa-hashtag" style="margin-right: 10px;"></i>Off-topic</li>
                        </ul>
                    </div>
                    
                    <div class="chat-main">
                        <div class="chat-header">
                            <i class="fas fa-hashtag" style="margin-right: 10px;"></i>Geral
                        </div>
                        
                        <div class="chat-messages" id="chat-messages">
                            <!-- Conteúdo carregado dinamicamente -->
                        </div>
                        
                        <div class="chat-input">
                            <input type="text" id="chat-input" placeholder="Digite sua mensagem..." autocomplete="off">
                            <button class="btn btn-primary btn-small" id="send-message"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ARQUIVOS -->
            <section id="files" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Arquivos e Documentos</h2>
                    <button class="btn btn-primary" id="upload-file-btn"><i class="fas fa-upload"></i> Upload</button>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Documentos da Organização</h3>
                        <div class="card-icon"><i class="fas fa-archive"></i></div>
                    </div>
                    <div style="padding: 20px;">
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Nome</th>
                                        <th>Tipo</th>
                                        <th>Tamanho</th>
                                        <th>Upload por</th>
                                        <th>Data</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="files-table">
                                    <tr>
                                        <td><i class="fas fa-file-pdf" style="color: #e74c3c; margin-right: 8px;"></i> Manifesto_Algebra_Renova.pdf</td>
                                        <td>PDF</td>
                                        <td>2.4 MB</td>
                                        <td>Lohan Cunha</td>
                                        <td>Fundacional</td>
                                        <td>
                                            <button class="btn btn-secondary btn-small"><i class="fas fa-download"></i></button>
                                            <button class="btn btn-secondary btn-small"><i class="fas fa-eye"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- RITO DE INICIAÇÃO -->
            <section id="initiation" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Rito de Iniciação</h2>
                </div>
                
                <div class="initiation-container">
                    <div class="initiation-step">
                        <div class="step-number">1</div>
                        <h3 class="step-title">Observador</h3>
                        <p>O primeiro nível é o de Observador. Nesta fase, você tem acesso limitado ao conteúdo, podendo ler o manifesto, visualizar teorias públicas e participar do fórum de forma restrita.</p>
                        <p style="margin-top: 15px; color: var(--accent-teal);"><strong>Pré-requisito:</strong> Criação de conta e primeiro login.</p>
                    </div>
                    
                    <div class="initiation-step">
                        <div class="step-number">2</div>
                        <h3 class="step-title">Iniciado</h3>
                        <p>O segundo nível é o de Iniciado. Aqui você ganha acesso a grupos de pesquisa públicos, pode propor novas teorias, participar ativamente do fórum e do chat, e acessar mais documentos.</p>
                        <p style="margin-top: 15px; color: var(--accent-teal);"><strong>Pré-requisito:</strong> Participação ativa no fórum e contribuição com pelo menos uma discussão significativa.</p>
                    </div>
                    
                    <div class="initiation-step">
                        <div class="step-number">3</div>
                        <h3 class="step-title">Núcleo</h3>
                        <p>O nível máximo é o de Núcleo. Membros do núcleo têm acesso total a todos os grupos (incluindo os restritos), podem moderar conteúdo, validar teorias e participar da direção estratégica da organização.</p>
                        <p style="margin-top: 15px; color: var(--accent-red);"><strong>Pré-requisito:</strong> Contribuição excepcional para a organização, seja através de teorias inovadoras, resolução de conjecturas complexas ou liderança em grupos de pesquisa. Acesso por convite apenas.</p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 40px;">
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">Para avançar de nível, demonstre seu comprometimento com a revolução matemática.</p>
                        <button class="btn btn-primary pulse" id="request-initiation">Solicitar Avaliação para Iniciado</button>
                    </div>
                </div>
            </section>

            <!-- PERFIL -->
            <section id="profile" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Perfil do Membro</h2>
                </div>
                
                <div class="form-container">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Configurações do Perfil</h3>
                            <div class="card-icon"><i class="fas fa-user-cog"></i></div>
                        </div>
                        <div style="padding: 20px;">
                            <form id="profile-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label" for="profile-name">Nome Simbólico</label>
                                        <input type="text" class="form-control" id="profile-name" value="Membro Algebra Renova" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="profile-level">Nível Atual</label>
                                        <input type="text" class="form-control" id="profile-level" value="Observador" readonly>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="profile-description">Descrição/Áreas de Interesse</label>
                                    <textarea class="form-control" id="profile-description" rows="4" placeholder="Descreva suas áreas de interesse matemático, especialidades e objetivos dentro da organização..."></textarea>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label" for="profile-expertise">Especialidades</label>
                                        <input type="text" class="form-control" id="profile-expertise" placeholder="Ex: Álgebra abstrata, Teoria das categorias, Topologia">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="profile-status">Status</label>
                                        <select class="form-control" id="profile-status">
                                            <option value="active">Ativo</option>
                                            <option value="inactive">Inativo</option>
                                            <option value="away">Ausente</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div style="display: flex; gap: 15px; margin-top: 30px;">
                                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                                    <button type="button" class="btn btn-secondary" id="change-password-btn">Alterar Senha</button>
                                </div>
                            </form>
                            
                            <div style="margin-top: 40px; padding-top: 20px; border-top: 1px solid var(--border-color);">
                                <h4 style="color: var(--accent-teal); margin-bottom: 15px;">Estatísticas Pessoais</h4>
                                <div class="stats-container" style="grid-template-columns: repeat(2, 1fr);">
                                    <div class="stat-card">
                                        <div class="stat-value" id="profile-theories">0</div>
                                        <div class="stat-label">Teorias Criadas</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="profile-posts">0</div>
                                        <div class="stat-label">Posts no Fórum</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="profile-groups">0</div>
                                        <div class="stat-label">Grupos Participando</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="profile-documents">0</div>
                                        <div class="stat-label">Documentos Enviados</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MEMBROS -->
            <section id="members" class="content-section">
                <div class="section-header">
                    <h2 class="section-title">Membros da Organização</h2>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Hierarquia de Membros</h3>
                        <div class="card-icon"><i class="fas fa-chess-queen"></i></div>
                    </div>
                    <div style="padding: 20px;">
                        <div style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 30px;">
                            <div style="flex: 1; min-width: 250px; background-color: var(--tertiary-dark); padding: 20px; border-radius: 8px; border-top: 4px solid var(--accent-red);">
                                <h4 style="color: var(--accent-red); margin-bottom: 10px;">Núcleo</h4>
                                <p style="margin-bottom: 15px;">Acesso total, direção estratégica, validação de teorias.</p>
                                <ul style="list-style: none; padding-left: 0;">
                                    <li style="padding: 5px 0;"><i class="fas fa-crown" style="margin-right: 8px; color: var(--accent-gold);"></i>Lohan Cunha (Fundador)</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 250px; background-color: var(--tertiary-dark); padding: 20px; border-radius: 8px; border-top: 4px solid var(--accent-teal);">
                                <h4 style="color: var(--accent-teal); margin-bottom: 10px;">Iniciados</h4>
                                <p style="margin-bottom: 15px;">Acesso amplo, podem propor teorias, liderar grupos públicos.</p>
                                <ul style="list-style: none; padding-left: 0;" id="iniciados-list">
                                    <li style="padding: 5px 0;"><i class="fas fa-user-check" style="margin-right: 8px; color: var(--accent-teal);"></i>[Aguardando membros]</li>
                                </ul>
                            </div>
                            
                            <div style="flex: 1; min-width: 250px; background-color: var(--tertiary-dark); padding: 20px; border-radius: 8px; border-top: 4px solid #6c757d;">
                                <h4 style="color: #6c757d; margin-bottom: 10px;">Observadores</h4>
                                <p style="margin-bottom: 15px;">Acesso limitado, leitura de conteúdo, participação restrita no fórum.</p>
                                <ul style="list-style: none; padding-left: 0;" id="observadores-list">
                                    <li style="padding: 5px 0;"><i class="fas fa-user" style="margin-right: 8px; color: #6c757d;"></i>Você</li>
                                </ul>
                            </div>
                        </div>
                        
                        <h4 style="color: var(--accent-teal); margin: 25px 0 15px;">Regras de Conduta</h4>
                        <ul style="padding-left: 20px; margin-bottom: 30px;">
                            <li style="margin-bottom: 8px;">Respeito absoluto às ideias, mesmo as mais radicais.</li>
                            <li style="margin-bottom: 8px;">Rigor lógico acima de preferências pessoais.</li>
                            <li style="margin-bottom: 8px;">Confidencialidade do conteúdo restrito aos membros.</li>
                            <li style="margin-bottom: 8px;">Colaboração acima de competição.</li>
                            <li style="margin-bottom: 8px;">A matemática como linguagem de revolução, não como dogma.</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- BACKGROUND FRACTAL -->
    <div class="fractal-bg"></div>

    <script>
        // =============================================
        // SISTEMA DE PERSISTÊNCIA COM LOCALSTORAGE
        // =============================================
        
        // Chaves para localStorage
        const STORAGE_KEYS = {
            USER: 'algebra_renova_user',
            THEORIES: 'algebra_renova_theories',
            FORUM_TOPICS: 'algebra_renova_forum_topics',
            CHAT_MESSAGES: 'algebra_renova_chat_messages',
            ACTIVITIES: 'algebra_renova_activities'
        };

        // Dados iniciais (usados apenas na primeira execução)
        const INITIAL_DATA = {
            theories: [
                {
                    id: 1,
                    title: "Álgebra das Anti-identidades",
                    author: "Lohan Cunha",
                    group: "Transfunctoração",
                    description: "Explora estruturas algébricas onde as identidades tradicionais são substituídas por seus opostos conceituais, criando sistemas onde a+b ≠ b+a e a·1 ≠ a.",
                    status: "developing",
                    version: "v1.0.0",
                    date: "Teoria fundacional",
                    visibility: "public",
                    tags: "álgebra, anti-identidades, transfunctoração"
                },
                {
                    id: 2,
                    title: "Transfunctoração Quântica",
                    author: "Lohan Cunha",
                    group: "Transformações Radicais",
                    description: "Estuda como estruturas algébricas podem ser 'transportadas' entre diferentes domínios matemáticos, mantendo certas propriedades enquanto transformam outras radicalmente.",
                    status: "published",
                    version: "v2.0.0",
                    date: "Teoria fundacional",
                    visibility: "public",
                    tags: "transfunctoração, quântica, transformações"
                }
            ],
            forumTopics: [
                {
                    id: 1,
                    title: "Interpretação da Anti-identidade a+0 ≠ a",
                    author: "Lohan Cunha",
                    description: "Como interpretar sistemas onde o elemento neutro aditivo não funciona como neutro? Que implicações isso tem para a estrutura algébrica como um todo?",
                    category: "debate",
                    tags: "álgebra, anti-identidades, interpretação",
                    replies: 0,
                    status: "active",
                    date: "Fundacional"
                }
            ],
            chatMessages: [
                {
                    id: 1,
                    sender: "Sistema Algebra Renova",
                    message: "Bem-vindo ao chat. Conecte-se com outros membros para discutir ideias, teorias e conjecturas.",
                    time: "Agora",
                    type: "received"
                }
            ],
            activities: [
                {
                    id: 1,
                    title: "Bem-vindo ao Algebra Renova",
                    time: "Sua jornada começa agora",
                    icon: "door-open"
                }
            ]
        };

        // Estado global da aplicação
        let currentUser = null;
        let theories = [];
        let forumTopics = [];
        let chatMessages = [];
        let activities = [];

        // =============================================
        // FUNÇÕES DE PERSISTÊNCIA
        // =============================================

        // Inicializar dados do localStorage
        function initializeStorage() {
            // Verificar e criar dados iniciais se não existirem
            if (!localStorage.getItem(STORAGE_KEYS.THEORIES)) {
                localStorage.setItem(STORAGE_KEYS.THEORIES, JSON.stringify(INITIAL_DATA.theories));
            }
            
            if (!localStorage.getItem(STORAGE_KEYS.FORUM_TOPICS)) {
                localStorage.setItem(STORAGE_KEYS.FORUM_TOPICS, JSON.stringify(INITIAL_DATA.forumTopics));
            }
            
            if (!localStorage.getItem(STORAGE_KEYS.CHAT_MESSAGES)) {
                localStorage.setItem(STORAGE_KEYS.CHAT_MESSAGES, JSON.stringify(INITIAL_DATA.chatMessages));
            }
            
            if (!localStorage.getItem(STORAGE_KEYS.ACTIVITIES)) {
                localStorage.setItem(STORAGE_KEYS.ACTIVITIES, JSON.stringify(INITIAL_DATA.activities));
            }
            
            // Carregar dados do localStorage
            loadFromStorage();
        }

        // Carregar dados do localStorage
        function loadFromStorage() {
            try {
                theories = JSON.parse(localStorage.getItem(STORAGE_KEYS.THEORIES)) || [];
                forumTopics = JSON.parse(localStorage.getItem(STORAGE_KEYS.FORUM_TOPICS)) || [];
                chatMessages = JSON.parse(localStorage.getItem(STORAGE_KEYS.CHAT_MESSAGES)) || [];
                activities = JSON.parse(localStorage.getItem(STORAGE_KEYS.ACTIVITIES)) || [];
                
                // Carregar usuário se existir
                const savedUser = localStorage.getItem(STORAGE_KEYS.USER);
                if (savedUser) {
                    currentUser = JSON.parse(savedUser);
                }
            } catch (error) {
                console.error("Erro ao carregar dados do localStorage:", error);
                // Recriar dados iniciais em caso de erro
                theories = INITIAL_DATA.theories;
                forumTopics = INITIAL_DATA.forumTopics;
                chatMessages = INITIAL_DATA.chatMessages;
                activities = INITIAL_DATA.activities;
            }
        }

        // Salvar dados no localStorage
        function saveToStorage(key, data) {
            try {
                localStorage.setItem(key, JSON.stringify(data));
            } catch (error) {
                console.error(`Erro ao salvar ${key} no localStorage:`, error);
            }
        }

        // Salvar usuário atual
        function saveUser() {
            if (currentUser) {
                saveToStorage(STORAGE_KEYS.USER, currentUser);
            }
        }

        // Salvar teorias
        function saveTheories() {
            saveToStorage(STORAGE_KEYS.THEORIES, theories);
        }

        // Salvar tópicos do fórum
        function saveForumTopics() {
            saveToStorage(STORAGE_KEYS.FORUM_TOPICS, forumTopics);
        }

        // Salvar mensagens do chat
        function saveChatMessages() {
            saveToStorage(STORAGE_KEYS.CHAT_MESSAGES, chatMessages);
        }

        // Salvar atividades
        function saveActivities() {
            saveToStorage(STORAGE_KEYS.ACTIVITIES, activities);
        }

        // =============================================
        // FUNÇÕES DE MANIPULAÇÃO DE DADOS
        // =============================================

        // Adicionar nova teoria
        function addTheory(theory) {
            const newId = theories.length > 0 ? Math.max(...theories.map(t => t.id)) + 1 : 1;
            const newTheory = {
                ...theory,
                id: newId,
                date: new Date().toLocaleDateString('pt-BR')
            };
            
            theories.push(newTheory);
            saveTheories();
            
            // Adicionar atividade
            addActivity(`Nova teoria proposta: "${theory.title}"`, 'Agora');
            
            return newTheory;
        }

        // Adicionar novo tópico no fórum
        function addForumTopic(topic) {
            const newId = forumTopics.length > 0 ? Math.max(...forumTopics.map(t => t.id)) + 1 : 1;
            const newTopic = {
                ...topic,
                id: newId,
                date: new Date().toLocaleDateString('pt-BR'),
                replies: 0,
                status: 'active'
            };
            
            forumTopics.push(newTopic);
            saveForumTopics();
            
            // Adicionar atividade
            addActivity(`Novo tópico no fórum: "${topic.title}"`, 'Agora');
            
            return newTopic;
        }

        // Adicionar mensagem no chat
        function addChatMessage(message) {
            const newId = chatMessages.length > 0 ? Math.max(...chatMessages.map(m => m.id)) + 1 : 1;
            const newMessage = {
                ...message,
                id: newId,
                time: new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })
            };
            
            chatMessages.push(newMessage);
            saveChatMessages();
            
            return newMessage;
        }

        // Adicionar atividade recente
        function addActivity(title, time) {
            const newId = activities.length > 0 ? Math.max(...activities.map(a => a.id)) + 1 : 1;
            const newActivity = {
                id: newId,
                title: title,
                time: time || new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' }),
                icon: 'history'
            };
            
            // Manter apenas as 5 atividades mais recentes
            activities.unshift(newActivity);
            if (activities.length > 5) {
                activities = activities.slice(0, 5);
            }
            
            saveActivities();
            return newActivity;
        }

        // =============================================
        // FUNÇÕES DE RENDERIZAÇÃO
        // =============================================

        function renderTheories() {
            const theoriesList = document.getElementById('theories-list');
            const featuredTheories = document.getElementById('featured-theories');
            
            if (theoriesList) {
                theoriesList.innerHTML = '';
                
                if (theories.length === 0) {
                    theoriesList.innerHTML = `
                        <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                            <h4 style="color: var(--accent-teal); margin-bottom: 15px;">Nenhuma teoria ainda</h4>
                            <p style="color: var(--text-secondary); margin-bottom: 20px;">Seja o primeiro a propor uma nova teoria matemática!</p>
                            <button class="btn btn-primary" id="create-first-theory">Criar Primeira Teoria</button>
                        </div>
                    `;
                    
                    document.getElementById('create-first-theory')?.addEventListener('click', () => {
                        document.getElementById('new-theory-btn').click();
                    });
                } else {
                    theories.forEach(theory => {
                        const theoryCard = document.createElement('div');
                        theoryCard.className = 'theory-card';
                        
                        let statusClass = 'status-developing';
                        let statusText = 'Em desenvolvimento';
                        
                        if (theory.status === 'published') {
                            statusClass = 'status-published';
                            statusText = 'Publicada';
                        } else if (theory.status === 'archived') {
                            statusClass = 'status-archived';
                            statusText = 'Arquivada';
                        } else if (theory.status === 'proposal') {
                            statusClass = 'status-developing';
                            statusText = 'Proposta';
                        } else if (theory.status === 'discussion') {
                            statusClass = 'status-developing';
                            statusText = 'Em discussão';
                        }
                        
                        theoryCard.innerHTML = `
                            <div class="theory-header">
                                <div>
                                    <h4 class="theory-title">${theory.title}</h4>
                                    <div class="theory-author">Por ${theory.author} • Grupo: ${theory.group}</div>
                                </div>
                                <span class="theory-status ${statusClass}">${statusText}</span>
                            </div>
                            <p class="theory-description">${theory.description}</p>
                            <div class="theory-meta">
                                <span><i class="fas fa-calendar"></i> ${theory.date}</span>
                                <span><i class="fas fa-code-branch"></i> ${theory.version || 'v1.0.0'}</span>
                            </div>
                        `;
                        
                        theoriesList.appendChild(theoryCard);
                    });
                }
                
                // Atualizar badge de notificações
                updateNotificationBadges();
            }
            
            // Teorias em destaque (apenas as mais recentes, máximo 2)
            if (featuredTheories && theories.length > 0) {
                featuredTheories.innerHTML = '';
                const latestTheories = theories.slice(-2).reverse(); // Pegar as 2 mais recentes
                
                latestTheories.forEach(theory => {
                    let statusClass = 'status-developing';
                    let statusText = 'Em desenvolvimento';
                    
                    if (theory.status === 'published') {
                        statusClass = 'status-published';
                        statusText = 'Publicada';
                    }
                    
                    const theoryCard = document.createElement('div');
                    theoryCard.className = 'theory-card';
                    theoryCard.innerHTML = `
                        <div class="theory-header">
                            <div>
                                <h4 class="theory-title">${theory.title}</h4>
                                <div class="theory-author">Por ${theory.author} • Grupo: ${theory.group}</div>
                            </div>
                            <span class="theory-status ${statusClass}">${statusText}</span>
                        </div>
                        <p class="theory-description">${theory.description.substring(0, 150)}${theory.description.length > 150 ? '...' : ''}</p>
                        <div class="theory-meta">
                            <span><i class="fas fa-calendar"></i> ${theory.date}</span>
                            <span><i class="fas fa-code-branch"></i> ${theory.version || 'v1.0.0'}</span>
                        </div>
                    `;
                    
                    featuredTheories.appendChild(theoryCard);
                });
            }
        }

        function renderForumTopics() {
            const forumTopicsContainer = document.getElementById('forum-topics');
            
            if (forumTopicsContainer) {
                forumTopicsContainer.innerHTML = '';
                
                if (forumTopics.length === 0) {
                    forumTopicsContainer.innerHTML = `
                        <div class="card" style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                            <h4 style="color: var(--accent-teal); margin-bottom: 15px;">Nenhum tópico ainda</h4>
                            <p style="color: var(--text-secondary); margin-bottom: 20px;">Inicie uma discussão sobre matemática avançada!</p>
                            <button class="btn btn-primary" id="create-first-topic">Criar Primeiro Tópico</button>
                        </div>
                    `;
                    
                    document.getElementById('create-first-topic')?.addEventListener('click', () => {
                        document.getElementById('new-topic-btn').click();
                    });
                } else {
                    forumTopics.forEach(topic => {
                        const topicCard = document.createElement('div');
                        topicCard.className = 'topic-card';
                        
                        topicCard.innerHTML = `
                            <div class="topic-header">
                                <div>
                                    <h4 class="topic-title">${topic.title}</h4>
                                    <div class="topic-author">Por ${topic.author} • ${topic.date}</div>
                                </div>
                                <span class="topic-status status-developing">${topic.status === 'active' ? 'Ativo' : 'Fechado'}</span>
                            </div>
                            <p class="topic-description">${topic.description}</p>
                            <div class="topic-meta">
                                <span><i class="fas fa-comment"></i> ${topic.replies} resposta${topic.replies !== 1 ? 's' : ''}</span>
                                <span><i class="fas fa-tags"></i> ${topic.tags || 'Sem tags'}</span>
                            </div>
                        `;
                        
                        forumTopicsContainer.appendChild(topicCard);
                    });
                }
                
                // Atualizar badge de notificações
                updateNotificationBadges();
            }
        }

        function renderChatMessages() {
            const chatMessagesContainer = document.getElementById('chat-messages');
            
            if (chatMessagesContainer) {
                chatMessagesContainer.innerHTML = '';
                
                chatMessages.forEach(msg => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = `message message-${msg.type}`;
                    
                    messageDiv.innerHTML = `
                        <div class="message-sender">${msg.sender}</div>
                        <div>${msg.message}</div>
                        <div class="message-time">${msg.time}</div>
                    `;
                    
                    chatMessagesContainer.appendChild(messageDiv);
                });
                
                // Rolagem automática para a última mensagem
                chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
            }
        }

        function renderActivities() {
            const activitiesList = document.getElementById('recent-activities');
            
            if (activitiesList) {
                activitiesList.innerHTML = '';
                
                if (activities.length === 0) {
                    activitiesList.innerHTML = `
                        <li class="activity-item">
                            <div class="activity-icon"><i class="fas fa-info-circle"></i></div>
                            <div class="activity-content">
                                <div class="activity-title">Nenhuma atividade recente</div>
                                <div class="activity-time">Comece a explorar o site</div>
                            </div>
                        </li>
                    `;
                } else {
                    activities.forEach(activity => {
                        const activityItem = document.createElement('li');
                        activityItem.className = 'activity-item';
                        
                        activityItem.innerHTML = `
                            <div class="activity-icon"><i class="fas fa-${activity.icon || 'history'}"></i></div>
                            <div class="activity-content">
                                <div class="activity-title">${activity.title}</div>
                                <div class="activity-time">${activity.time}</div>
                            </div>
                        `;
                        
                        activitiesList.appendChild(activityItem);
                    });
                }
            }
        }

        // =============================================
        // FUNÇÕES DE ATUALIZAÇÃO DE UI
        // =============================================

        function updateStatistics() {
            if (!currentUser) return;
            
            // Atualizar estatísticas gerais
            document.getElementById('stat-members').textContent = 1; // Apenas você por enquanto
            document.getElementById('stat-theories').textContent = theories.length;
            document.getElementById('stat-groups').textContent = 6; // Grupos fixos
            document.getElementById('stat-documents').textContent = 1; // Manifesto apenas
            document.getElementById('stat-conjectures').textContent = theories.filter(t => 
                t.title.toLowerCase().includes('conjectura') || 
                t.description.toLowerCase().includes('conjectura')
            ).length;
            
            // Atualizar estatísticas do perfil
            const userTheories = theories.filter(t => t.author === currentUser.name).length;
            const userPosts = forumTopics.filter(t => t.author === currentUser.name).length;
            
            document.getElementById('profile-theories').textContent = userTheories;
            document.getElementById('profile-posts').textContent = userPosts;
            document.getElementById('profile-groups').textContent = currentUser.level === 'observador' ? 0 : 2;
            document.getElementById('profile-documents').textContent = 0;
            
            // Atualizar contagem de notificações
            updateNotificationBadges();
        }

        function updateNotificationBadges() {
            // Contar teorias novas (criadas hoje)
            const today = new Date().toLocaleDateString('pt-BR');
            const newTheories = theories.filter(t => t.date === today).length;
            
            // Contar tópicos novos
            const newTopics = forumTopics.filter(t => t.date === today).length;
            
            // Total de notificações
            const totalNotifications = newTheories + newTopics;
            
            // Atualizar badges
            const theoryNotif = document.getElementById('theory-notif');
            const forumNotif = document.getElementById('forum-notif');
            const notificationCount = document.getElementById('notification-count');
            
            if (theoryNotif) {
                theoryNotif.textContent = newTheories;
                theoryNotif.style.display = newTheories > 0 ? 'flex' : 'none';
            }
            
            if (forumNotif) {
                forumNotif.textContent = newTopics;
                forumNotif.style.display = newTopics > 0 ? 'flex' : 'none';
            }
            
            if (notificationCount) {
                notificationCount.textContent = totalNotifications;
                notificationCount.style.display = totalNotifications > 0 ? 'flex' : 'none';
            }
        }

        function updateUserInterface() {
            if (!currentUser) return;
            
            // Atualizar informações do usuário na sidebar
            document.getElementById('user-name').textContent = currentUser.name;
            document.getElementById('user-avatar').textContent = currentUser.avatar;
            
            // Atualizar nível com classe correta
            const userLevelEl = document.getElementById('user-level');
            userLevelEl.textContent = 
                currentUser.level === 'observador' ? 'Observador' : 
                currentUser.level === 'iniciado' ? 'Iniciado' : 'Núcleo';
            
            userLevelEl.className = 'user-level';
            if (currentUser.level === 'observador') userLevelEl.classList.add('level-observador');
            else if (currentUser.level === 'iniciado') userLevelEl.classList.add('level-iniciado');
            else userLevelEl.classList.add('level-nucleo');
            
            // Atualizar nome no chat
            document.getElementById('current-user-chat').textContent = currentUser.name;
            
            // Atualizar nome no perfil
            document.getElementById('profile-name').value = currentUser.name;
            document.getElementById('profile-level').value = 
                currentUser.level === 'observador' ? 'Observador' : 
                currentUser.level === 'iniciado' ? 'Iniciado' : 'Núcleo';
            
            // Atualizar lista de membros
            updateMembersList();
        }

        function updateMembersList() {
            if (!currentUser) return;
            
            const observadoresList = document.getElementById('observadores-list');
            if (observadoresList) {
                observadoresList.innerHTML = `
                    <li style="padding: 5px 0;">
                        <i class="fas fa-user" style="margin-right: 8px; color: #6c757d;"></i>${currentUser.name}
                    </li>
                `;
            }
        }

        // =============================================
        // FUNÇÕES DE NAVEGAÇÃO E CONTROLE
        // =============================================

        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const pageTitle = document.getElementById('page-title');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Remover classe active de todos os links
                    navLinks.forEach(l => l.classList.remove('active'));
                    
                    // Adicionar classe active ao link clicado
                    this.classList.add('active');
                    
                    // Esconder todas as seções
                    contentSections.forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    // Mostrar a seção correspondente
                    const sectionId = this.getAttribute('data-section');
                    const targetSection = document.getElementById(sectionId);
                    
                    if (targetSection) {
                        targetSection.classList.add('active');
                        
                        // Atualizar título da página
                        let titleText = '';
                        switch(sectionId) {
                            case 'dashboard': titleText = 'Dashboard'; break;
                            case 'manifesto': titleText = 'Manifesto'; break;
                            case 'theories': titleText = 'Teorias'; break;
                            case 'research-groups': titleText = 'Grupos de Pesquisa'; break;
                            case 'forum': titleText = 'Fórum de Dúvidas'; break;
                            case 'chat': titleText = 'Chat Geral'; break;
                            case 'files': titleText = 'Arquivos'; break;
                            case 'initiation': titleText = 'Rito de Iniciação'; break;
                            case 'profile': titleText = 'Perfil'; break;
                            case 'members': titleText = 'Membros'; break;
                            default: titleText = 'Dashboard';
                        }
                        pageTitle.textContent = titleText;
                    }
                });
            });
            
            // Botões que navegam para seções
            document.querySelectorAll('button[data-section]').forEach(button => {
                button.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    const targetLink = document.querySelector(`.nav-link[data-section="${sectionId}"]`);
                    if (targetLink) targetLink.click();
                });
            });
        }

        function setupLogin() {
            const loginForm = document.getElementById('login-form');
            const loginPage = document.getElementById('login-page');
            const mainSite = document.getElementById('main-site');
            
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                const level = document.getElementById('login-level').value;
                
                if (username && password && level) {
                    // Criar objeto do usuário
                    currentUser = {
                        name: username,
                        level: level,
                        avatar: username.substring(0, 2).toUpperCase(),
                        joined: new Date().toISOString()
                    };
                    
                    // Salvar usuário no localStorage
                    saveUser();
                    
                    // Atualizar interface
                    updateUserInterface();
                    
                    // Mostrar site principal
                    loginPage.style.display = 'none';
                    mainSite.style.display = 'flex';
                    
                    // Adicionar atividade
                    addActivity(`Login realizado: ${username}`, 'Agora');
                    
                    // Renderizar conteúdo
                    renderAllContent();
                    
                    // Atualizar estatísticas
                    updateStatistics();
                }
            });
        }

        function setupLogout() {
            const logoutBtn = document.getElementById('logout-btn');
            
            logoutBtn.addEventListener('click', function() {
                if (confirm('Tem certeza que deseja sair?')) {
                    // Limpar localStorage
                    localStorage.removeItem(STORAGE_KEYS.USER);
                    
                    // Recarregar a página para voltar ao login
                    window.location.reload();
                }
            });
        }

        function setupTheoryForm() {
            const newTheoryBtn = document.getElementById('new-theory-btn');
            const newTheoryForm = document.getElementById('new-theory-form');
            const cancelTheoryBtn = document.getElementById('cancel-theory-btn');
            const theoryForm = document.getElementById('theory-form');
            
            if (newTheoryBtn) {
                newTheoryBtn.addEventListener('click', function() {
                    if (!currentUser) return;
                    
                    if (currentUser.level === 'observador') {
                        alert('Apenas membros Iniciados ou do Núcleo podem propor novas teorias.');
                        return;
                    }
                    
                    newTheoryForm.style.display = 'block';
                    newTheoryForm.scrollIntoView({ behavior: 'smooth' });
                });
            }
            
            if (cancelTheoryBtn) {
                cancelTheoryBtn.addEventListener('click', function() {
                    newTheoryForm.style.display = 'none';
                    theoryForm.reset();
                });
            }
            
            if (theoryForm) {
                theoryForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    if (!currentUser) return;
                    
                    const theoryName = document.getElementById('theory-name').value;
                    const theoryGroup = document.getElementById('theory-group').value;
                    const theoryDescription = document.getElementById('theory-description').value;
                    const theoryStatus = document.getElementById('theory-status').value;
                    const theoryVisibility = document.getElementById('theory-visibility').value;
                    const theoryTags = document.getElementById('theory-tags').value;
                    
                    // Criar nova teoria
                    const newTheory = {
                        title: theoryName,
                        author: currentUser.name,
                        group: document.getElementById('theory-group').options[document.getElementById('theory-group').selectedIndex].text,
                        description: theoryDescription,
                        status: theoryStatus,
                        visibility: theoryVisibility,
                        tags: theoryTags,
                        version: 'v0.1.0'
                    };
                    
                    addTheory(newTheory);
                    
                    // Resetar formulário
                    theoryForm.reset();
                    newTheoryForm.style.display = 'none';
                    
                    // Renderizar teorias atualizadas
                    renderTheories();
                    
                    // Atualizar estatísticas
                    updateStatistics();
                    
                    alert('Teoria submetida com sucesso! Será revisada pelos membros do Núcleo.');
                });
            }
        }

        function setupTopicForm() {
            const newTopicBtn = document.getElementById('new-topic-btn');
            const newTopicForm = document.getElementById('new-topic-form');
            const cancelTopicBtn = document.getElementById('cancel-topic-btn');
            const topicForm = document.getElementById('topic-form');
            
            if (newTopicBtn) {
                newTopicBtn.addEventListener('click', function() {
                    if (!currentUser) return;
                    
                    newTopicForm.style.display = 'block';
                    newTopicForm.scrollIntoView({ behavior: 'smooth' });
                });
            }
            
            if (cancelTopicBtn) {
                cancelTopicBtn.addEventListener('click', function() {
                    newTopicForm.style.display = 'none';
                    topicForm.reset();
                });
            }
            
            if (topicForm) {
                topicForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    if (!currentUser) return;
                    
                    const topicTitle = document.getElementById('topic-title').value;
                    const topicDescription = document.getElementById('topic-description').value;
                    const topicCategory = document.getElementById('topic-category').value;
                    const topicTags = document.getElementById('topic-tags').value;
                    
                    // Criar novo tópico
                    const newTopic = {
                        title: topicTitle,
                        author: currentUser.name,
                        description: topicDescription,
                        category: topicCategory,
                        tags: topicTags
                    };
                    
                    addForumTopic(newTopic);
                    
                    // Resetar formulário
                    topicForm.reset();
                    newTopicForm.style.display = 'none';
                    
                    // Renderizar tópicos atualizados
                    renderForumTopics();
                    
                    // Atualizar estatísticas
                    updateStatistics();
                    
                    alert('Tópico criado com sucesso!');
                });
            }
        }

        function setupChat() {
            const chatInput = document.getElementById('chat-input');
            const sendMessageBtn = document.getElementById('send-message');
            
            function sendMessage() {
                if (!currentUser) return;
                
                const messageText = chatInput.value.trim();
                if (messageText) {
                    // Adicionar mensagem
                    addChatMessage({
                        sender: currentUser.name,
                        message: messageText,
                        type: 'sent'
                    });
                    
                    // Renderizar mensagens atualizadas
                    renderChatMessages();
                    
                    // Limpar input
                    chatInput.value = '';
                    
                    // Simular resposta automática após 1 segundo
                    setTimeout(function() {
                        addChatMessage({
                            sender: "Sistema Algebra Renova",
                            message: "Mensagem recebida. Em um ambiente com mais membros, você receberia respostas em tempo real.",
                            type: 'received'
                        });
                        
                        renderChatMessages();
                    }, 1000);
                }
            }
            
            if (sendMessageBtn) {
                sendMessageBtn.addEventListener('click', sendMessage);
            }
            
            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        }

        function setupProfileForm() {
            const profileForm = document.getElementById('profile-form');
            
            if (profileForm) {
                profileForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    if (!currentUser) return;
                    
                    const profileName = document.getElementById('profile-name').value;
                    const profileDescription = document.getElementById('profile-description').value;
                    const profileExpertise = document.getElementById('profile-expertise').value;
                    const profileStatus = document.getElementById('profile-status').value;
                    
                    // Atualizar dados do usuário
                    currentUser.name = profileName;
                    currentUser.avatar = profileName.substring(0, 2).toUpperCase();
                    currentUser.description = profileDescription;
                    currentUser.expertise = profileExpertise;
                    currentUser.status = profileStatus;
                    
                    // Salvar alterações
                    saveUser();
                    
                    // Atualizar interface
                    updateUserInterface();
                    
                    // Adicionar atividade
                    addActivity('Perfil atualizado', 'Agora');
                    
                    alert('Perfil atualizado com sucesso!');
                });
            }
        }

        function setupInitiationRequest() {
            const requestInitiationBtn = document.getElementById('request-initiation');
            
            if (requestInitiationBtn) {
                requestInitiationBtn.addEventListener('click', function() {
                    if (!currentUser) return;
                    
                    if (currentUser.level === 'observador') {
                        const hasTheories = theories.filter(t => t.author === currentUser.name).length > 0;
                        const hasPosts = forumTopics.filter(t => t.author === currentUser.name).length > 0;
                        
                        if (hasTheories || hasPosts) {
                            alert('Solicitação enviada aos membros do Núcleo. Sua participação será avaliada e você receberá uma resposta em breve.');
                            addActivity('Solicitação para Iniciado enviada', 'Agora');
                        } else {
                            alert('Para solicitar o nível de Iniciado, você precisa contribuir com pelo menos uma teoria ou participação significativa no fórum.');
                        }
                    } else {
                        alert(`Você já é ${currentUser.level === 'iniciado' ? 'Iniciado' : 'membro do Núcleo'}.`);
                    }
                });
            }
        }

        function setupGroupJoin() {
            const joinGroupBtn = document.getElementById('join-group-btn');
            
            if (joinGroupBtn) {
                joinGroupBtn.addEventListener('click', function() {
                    if (!currentUser) return;
                    
                    if (currentUser.level === 'observador') {
                        alert('Observadores podem apenas visualizar grupos públicos. Para participar de grupos privados, solicite o nível de Iniciado.');
                    } else {
                        alert('Solicitação de ingresso em grupo enviada. Um membro do Núcleo avaliará sua solicitação.');
                        addActivity('Solicitação de ingresso em grupo enviada', 'Agora');
                    }
                });
            }
        }

        function setupSearch() {
            const globalSearch = document.getElementById('global-search');
            
            if (globalSearch) {
                globalSearch.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const searchTerm = this.value.trim().toLowerCase();
                        if (searchTerm) {
                            // Buscar nas teorias
                            const theoryResults = theories.filter(theory => 
                                theory.title.toLowerCase().includes(searchTerm) || 
                                theory.description.toLowerCase().includes(searchTerm) ||
                                theory.tags.toLowerCase().includes(searchTerm)
                            );
                            
                            // Buscar nos tópicos do fórum
                            const forumResults = forumTopics.filter(topic => 
                                topic.title.toLowerCase().includes(searchTerm) || 
                                topic.description.toLowerCase().includes(searchTerm) ||
                                (topic.tags && topic.tags.toLowerCase().includes(searchTerm))
                            );
                            
                            let resultMessage = `Resultados para "${searchTerm}":\n`;
                            
                            if (theoryResults.length > 0) {
                                resultMessage += `\nTeorias (${theoryResults.length}):\n`;
                                theoryResults.forEach((theory, i) => {
                                    resultMessage += `${i+1}. ${theory.title}\n`;
                                });
                            }
                            
                            if (forumResults.length > 0) {
                                resultMessage += `\nTópicos do fórum (${forumResults.length}):\n`;
                                forumResults.forEach((topic, i) => {
                                    resultMessage += `${i+1}. ${topic.title}\n`;
                                });
                            }
                            
                            if (theoryResults.length === 0 && forumResults.length === 0) {
                                resultMessage = `Nenhum resultado encontrado para "${searchTerm}".`;
                            }
                            
                            alert(resultMessage);
                        }
                    }
                });
            }
        }

        // =============================================
        // FUNÇÕES DE INICIALIZAÇÃO
        // =============================================

        function renderAllContent() {
            renderTheories();
            renderForumTopics();
            renderChatMessages();
            renderActivities();
            updateStatistics();
        }

        function autoLogin() {
            const loginPage = document.getElementById('login-page');
            const mainSite = document.getElementById('main-site');
            
            if (currentUser) {
                // Usuário já está logado (dados carregados do localStorage)
                loginPage.style.display = 'none';
                mainSite.style.display = 'flex';
                
                // Atualizar interface
                updateUserInterface();
                
                // Renderizar conteúdo
                renderAllContent();
                
                // Adicionar atividade de relogin
                addActivity(`Sessão restaurada: ${currentUser.name}`, 'Agora');
            }
        }

        function initializeApp() {
            // Inicializar localStorage
            initializeStorage();
            
            // Configurar auto-login
            autoLogin();
            
            // Configurar eventos
            setupLogin();
            setupLogout();
            setupNavigation();
            setupTheoryForm();
            setupTopicForm();
            setupChat();
            setupProfileForm();
            setupInitiationRequest();
            setupGroupJoin();
            setupSearch();
            
            // Inicializar botão de upload de arquivos
            const uploadFileBtn = document.getElementById('upload-file-btn');
            if (uploadFileBtn) {
                uploadFileBtn.addEventListener('click', function() {
                    alert('Funcionalidade de upload de arquivos será implementada em breve.');
                });
            }
            
            // Inicializar botão de notificações
            const notificationBtn = document.getElementById('notification-btn');
            if (notificationBtn) {
                notificationBtn.addEventListener('click', function() {
                    alert(`Você tem ${document.getElementById('notification-count').textContent || '0'} notificações.`);
                });
            }
            
            // Inicializar botão de alterar senha
            const changePasswordBtn = document.getElementById('change-password-btn');
            if (changePasswordBtn) {
                changePasswordBtn.addEventListener('click', function() {
                    alert('Funcionalidade de alteração de senha será implementada em breve.');
                });
            }
        }

        // =============================================
        // INICIALIZAÇÃO DA APLICAÇÃO
        // =============================================

        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
</body>
</html>
